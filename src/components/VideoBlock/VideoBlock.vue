<template>
  <div
    :class="`video-block content-wrap ${sectionId} ${
      hasCollage ? '--has-collage' : ''
    }`"
  >
    <div class="content content--layout content--layout-2">
      <div class="content__svg-wrapper --background">
        <svg
          class="content__img content__img--2"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          viewBox="0 0 1000 450"
        >
          <defs>
            <filter id="displacementFilter2">
              <feTurbulence
                type="fractalNoise"
                baseFrequency="0.1"
                numOctaves="1"
                result="noise"
              />
              <feDisplacementMap
                in="SourceGraphic"
                in2="noise"
                result="displacement"
                scale="100"
                xChannelSelector="R"
                yChannelSelector="G"
              />
              <feMorphology
                operator="dilate"
                radius="2"
                result="morph"
                in="displacement"
              />
            </filter>
            <mask id="circleMask2">
              <circle
                cx="50%"
                cy="50%"
                r="0"
                data-value-final="950"
                fill="white"
                class="mask"
                style="filter: url(#displacementFilter2)"
              />
            </mask>
          </defs>

          <foreignObject mask="url(#circleMask2)">
            <video ref="videoRef">
              <source src="/img/sushi.mp4" type="video/mp4" />
            </video>
          </foreignObject>
        </svg>
        <div class="video-block__controller">
          <transition name="fade" mode="out-in">
            <svg
              v-if="videoPlayState === false"
              @click="playVideo"
              class="video-block__controller--play"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 300 300"
            >
              <g fill="#598da7">
                <path
                  d="M148.82 36.49c-8.72 0-17.21 1.32-25.37 3.17-8.43 1.92-16.3 5.16-23.91 8.83s-16.58 6.12-23.22 11.42c-6.67 5.33-12.19 12.46-17.52 19.13s-8.89 14.63-12.61 22.36-8.38 15.22-10.3 23.65-2.42 17.05-2.42 25.78 1.24 17.46 3.09 25.62 6.94 15.72 10.61 23.33 8.65 14.35 13.95 20.98 10.35 13.37 17.02 18.7 14.19 8.9 21.92 12.63 15.24 6.75 23.67 8.66 16.37 5.69 25.09 5.69 17.64-.72 25.8-2.57 16.13-6.51 23.73-10.18 15.67-7.47 22.31-12.77 11.01-13.1 16.34-19.77 9.07-13.96 12.8-21.69c3.67-7.6 6.98-15.12 8.9-23.55s5.47-16.36 5.47-25.08-2.02-17.28-3.88-25.44c-1.92-8.43-4.22-16.84-7.88-24.44s-10.87-13.18-16.18-19.82-9.81-13.91-16.48-19.24c-6.64-5.3-12.91-11.75-20.64-15.48s-16.5-4.77-24.93-6.69c-8.16-1.86-16.64-3.23-25.36-3.23zm0 216.84c-7.86 0-15.53-.54-22.89-2.22s-15.08-3.91-21.93-7.21-11.89-9.67-17.87-14.45-12.02-9.2-16.82-15.21-9.89-11.77-13.26-18.74c-3.31-6.85-4.01-14.59-5.74-22.19s-2.97-14.62-2.97-22.49.62-15.28 2.3-22.64 2.12-15.66 5.43-22.51 7.14-14.13 11.92-20.11 11.3-10.84 17.32-15.64 12.21-9.88 19.18-13.24 14.57-5.65 22.17-7.37c7.36-1.67 15.31.3 23.17.3s15.11 1.14 22.46 2.82 15.25 2.55 22.1 5.86 12.8 8.32 18.79 13.1c6.01 4.8 13.2 8.55 18 14.57s9.71 12.44 13.07 19.41 5.41 14.69 7.14 22.29-.07 15.32-.07 23.18.16 15.46-1.51 22.82-4.85 14.54-8.15 21.4-4.92 15.29-9.7 21.28-11.84 10.3-17.86 15.1c-5.98 4.78-13.49 7.03-20.45 10.4-6.85 3.31-13.31 7.62-20.91 9.35s-15.04 2.16-22.9 2.16z"
                ></path>
                <path
                  d="M148.82 264.36c-8.76 0-17.55 1.17-25.75-.7s-17.11-4.27-24.75-7.96-14.22-10.03-20.89-15.35-11.71-12.3-17.06-19-12.79-12.22-16.54-19.97-2.62-17.1-4.55-25.55-3.36-16.24-3.36-25 .98-16.92 2.85-25.11 3.11-16.97 6.8-24.6 8.54-14.89 13.87-21.56 10-14.53 16.69-19.88 14.49-9.86 22.24-13.61c7.63-3.69 16.44-5.26 24.89-7.19 8.2-1.87 16.79-1.88 25.55-1.88s17.51-.68 25.71 1.19 15.82 6.84 23.46 10.53 14.7 8.33 21.37 13.66 13.75 10.28 19.1 16.98 9.98 13.95 13.73 21.71 5.49 16.03 7.42 24.49 5.12 16.53 5.12 25.28-1.76 17.43-3.63 25.62-4.57 16.83-8.26 24.46c-3.75 7.75-10.55 13.54-15.87 20.2s-9.2 14.97-15.89 20.32c-6.67 5.33-13.91 10.7-21.67 14.45s-16.8 4.03-25.25 5.96-16.58 2.52-25.33 2.52zm0-228.08c-8.68 0-16.87 3.14-25 4.99s-15.87 5.28-23.44 8.94-15.7 6.61-22.31 11.89c-6.64 5.31-13.75 10.48-19.05 17.12-5.28 6.61-6.98 15.54-10.7 23.23s-10.43 14.25-12.34 22.64-2.33 17.07-2.33 25.75.99 17.51 2.84 25.64 6.44 16.02 10.1 23.59 8.08 15.03 13.36 21.64 12.78 10.93 19.42 16.24c6.61 5.28 13.27 9.91 20.96 13.63s14.91 7.8 23.29 9.71 16.52 3.81 25.2 3.81 16.92-2.65 25.05-4.5c8.39-1.91 17.16-2.72 24.73-6.38s15.22-8.29 21.83-13.57c6.64-5.31 11.71-12.49 17.01-19.13s9.79-13.8 13.51-21.49 7.57-15.32 9.48-23.7c1.85-8.13.57-16.79.57-25.47s-.21-17-2.07-25.13-4.98-16.16-8.64-23.73-6.09-16.39-11.37-23-13.57-10.49-20.21-15.8-13.85-9.07-21.54-12.79c-7.57-3.66-14.55-9.03-22.94-10.94s-16.74-3.17-25.42-3.17zm0 216.84c-7.9 0-15.86 1.27-23.25-.42-7.63-1.74-15.49-3.8-22.37-7.13-6.99-3.38-12.75-9.2-18.76-14-6.04-4.83-10.45-11.18-15.28-17.22S57.35 203.5 53.97 196.5s-1.99-15.55-3.73-23.17-3.08-14.6-3.08-22.5.88-15.22 2.57-22.61 2.64-15.34 5.97-22.22 7.72-13.42 12.53-19.43 8.88-13.27 14.92-18.09c6.01-4.8 13.12-8.88 20.11-12.26s14.89-4.62 22.52-6.36 15.15-1.6 23.05-1.6 15.81-.78 23.2.91c7.63 1.74 14.2 6.36 21.08 9.69 6.99 3.38 13.23 7.51 19.24 12.32s12.49 9.16 17.32 15.2 9 12.59 12.38 19.58 4.85 14.48 6.59 22.11 4.84 14.88 4.84 22.78-1.66 15.73-3.34 23.12-4.1 15.2-7.43 22.09-9.72 12.06-14.52 18.08-8.08 13.71-14.12 18.53-12.54 9.72-19.54 13.1-15.25 3.39-22.87 5.13c-7.39 1.69-14.94 2.24-22.83 2.24zm0-205.59c-7.82 0-15.18 3.04-22.5 4.71s-14.24 4.81-21.07 8.1-14.23 5.78-20.18 10.54-12.49 9.35-17.27 15.34-6.01 14.17-9.36 21.1-9.79 12.71-11.51 20.26-2.05 15.43-2.05 23.25.89 15.81 2.56 23.13c1.72 7.56 5.97 14.39 9.27 21.21s7.26 13.56 12.02 19.51 11.65 9.68 17.64 14.46 11.9 8.93 18.83 12.28c6.82 3.3 13.36 7.15 20.92 8.87s14.88 3.53 22.7 3.53 15.22-2.55 22.54-4.22c7.56-1.72 15.53-2.25 22.35-5.55s13.75-7.47 19.7-12.23c5.98-4.78 10.45-11.37 15.23-17.35s8.82-12.43 12.17-19.36 6.92-13.77 8.65-21.33.29-15.15.29-22.97-.12-15.3-1.79-22.63c-1.72-7.56-4.51-14.53-7.81-21.35-3.35-6.93-5.27-14.91-10.03-20.87s-12.45-9.24-18.43-14.02c-5.96-4.76-12.48-8.09-19.41-11.44-6.82-3.3-13.01-8.38-20.56-10.1-7.32-1.67-15.09-2.89-22.92-2.89z"
                ></path>
              </g>
              <path
                fill="#ed9d14"
                d="M119.47 158.9l-.18 7.37.19 7.37 1.59 7.37-1.45 7.37 1.93 7.37-.31 7.37.43 7.37-.41 7.37.25 6.43c.68.53 1.69 1.04 2.28 1.27.45.17.85.25 1.22.31.97-.53 1.88-1.16 2.68-1.75l2.01-2.9 6.89-3.47 4.47-5.9 4.77-5.6 5.4-4.96 6.64-3.72 3.46-6.93 5.51-4.85 6-4.35 5.25-5.12 3.87-6.49 5.31-5.05 6.18-4.17 3.53-5.37-3.6-5.3-4.95-5.46-6.16-4.21-5.57-4.8-4.45-5.92-4.02-6.36-5.25-5.12-7.09-3.26-4.78-5.58-4.21-6.16-6.24-4.12-4.5-5.86-4.93-5.44-5.54-4.82-5.07-4.22-1.22 6.63 1.42 7.38-1.54 7.37 2.45 7.37-1.3 7.37.94 7.37-2 7.37-.4 7.37-.19 7.36.89 7.37-.2 7.37z"
              ></path>
              <path
                fill="#171435"
                d="M126.57 214.46V163.4v-51.06-28.89c0-3.22-5-3.22-5 0v131.01c0 3.22 5 3.22 5 0z"
              ></path>
              <path
                fill="#171435"
                d="M128.42 219.6c19.4-19.88 38.79-39.77 58.19-59.65 5.46-5.6 10.92-11.19 16.38-16.79.9-.92 1.03-2.63 0-3.54l-59.87-52.49c-5.61-4.92-11.23-9.84-16.84-14.76-1.01-.89-2.54-1-3.54 0-.91.91-1.02 2.64 0 3.54l59.87 52.49c5.61 4.92 11.23 9.84 16.84 14.76v-3.54c-19.4 19.88-38.79 39.77-58.19 59.65-5.46 5.6-10.92 11.19-16.38 16.79-2.25 2.3 1.28 5.84 3.54 3.54z"
              ></path>
              <g fill="#171435">
                <path
                  d="M154.25 42.62h-.98c-.34-.01-.67.06-.96.22-.31.1-.58.27-.8.52-.24.23-.42.49-.52.8-.16.3-.23.62-.22.96l.09.66c.12.42.33.79.64 1.1l.51.39c.39.23.81.34 1.26.34h.98c.34.01.67-.06.96-.22.31-.1.58-.27.8-.52.24-.23.42-.49.52-.8.16-.3.23-.62.22-.96l-.09-.66a2.5 2.5 0 00-.64-1.1l-.51-.39c-.39-.23-.81-.34-1.26-.34z"
                ></path>
                <path
                  d="M155.76 47.71c20.59-1.36 40.97 6.75 56.49 20.06s26.45 31.11 33.64 50.03c3.88 10.19 6.67 20.71 7.06 31.64.35 10.13-1.08 20.24-4.05 29.92-5.9 19.25-17.86 35.98-33.54 48.51-15.57 12.44-34.66 20.65-54.29 23.93-11.29 1.88-22.78 1.64-33.85-1.4-10.42-2.86-20.14-7.74-29.34-13.36-9.35-5.72-18.59-12-25.75-20.41-6.56-7.71-11.29-16.9-14.96-26.28-1.91-4.89-3.58-9.87-5.11-14.89-1.72-5.64-3.33-11.34-4.21-17.18-1.65-11.03.7-22.04 3.97-32.56 5.91-19.05 16.33-36.81 30.83-50.59 14.77-14.04 33.95-23.66 54.22-26.35 4.94-.66 9.95-.86 14.93-.68 3.22.12 3.21-4.88 0-5-21.56-.81-43.12 6.23-60.67 18.65s-30.35 29.21-38.77 48.36c-4.35 9.91-7.76 20.44-9.34 31.17-.92 6.23-.91 12.34.05 18.56s2.58 11.79 4.35 17.55c3.18 10.33 6.93 20.6 12.29 30.02 2.63 4.63 5.68 9.04 9.16 13.08 3.74 4.34 8.06 8.1 12.63 11.55 8.97 6.78 18.79 12.79 29.01 17.48 10.54 4.84 21.74 8.08 33.38 8.47 11.74.4 23.58-1.77 34.75-5.27 9.75-3.06 19.17-7.28 27.89-12.61 17.67-10.8 32.55-26.25 41.54-45 9.27-19.32 12.49-41.5 7.67-62.49-2.5-10.89-6.73-21.52-11.77-31.47s-10.69-18.47-17.7-26.49c-14.1-16.13-33.51-28.2-54.92-31.27-5.17-.74-10.37-1.01-15.59-.66-1.35.09-2.5 1.09-2.5 2.5 0 1.28 1.15 2.59 2.5 2.5z"
                ></path>
                <path
                  d="M155.75 35.47c23.58-1.58 47.02 7.44 65.01 22.47 17.85 14.91 30.63 35.18 38.86 56.77 4.67 12.24 8.31 25.19 8.06 38.39-.23 12.16-3.49 24.35-7.87 35.65-7.98 20.61-21.38 39.16-38.62 53-18.16 14.57-40.95 23.48-64.17 25.14-12.14.87-24.24-.28-36.02-3.32-6.45-1.66-12.77-3.79-19-6.14s-11.83-4.66-17.25-8c-10.65-6.57-18.45-17.11-25.41-27.29-7.28-10.65-13.73-22.03-18.56-34.01-4.64-11.49-7.83-23.65-8.37-36.06-.5-11.24 1.01-22.47 4.21-33.25C43.11 97 56.38 77.63 73.95 63.23c17.77-14.56 39.53-23.89 62-28.22 5.4-1.04 10.85-1.77 16.33-2.22 1.35-.11 2.5-1.07 2.5-2.5 0-1.27-1.15-2.61-2.5-2.5-23.87 1.95-47.44 9.12-67.82 21.82C64.27 62.2 47.68 80.2 37.71 101.89c-4.94 10.74-8.25 22.11-9.66 33.84s-.63 24.31 2.22 36.14c3.11 12.88 8.47 25.18 14.87 36.75s14.05 23.07 22.98 33.03c4.3 4.8 9.15 9.1 14.69 12.43 5.69 3.42 11.89 5.9 18.08 8.24 12.52 4.72 25.44 8.38 38.82 9.47 24.4 2 49.36-4.06 70.43-16.43 20.11-11.81 36.54-29.53 47.51-50.05 5.43-10.15 9.6-21.02 12.26-32.23 1.63-6.85 2.74-13.9 2.77-20.95s-.93-13.69-2.48-20.35c-2.91-12.45-7.72-24.62-13.57-35.98-5.49-10.67-12.24-20.74-20.25-29.69-16.29-18.2-38.52-31.57-62.91-34.97-5.88-.82-11.8-1.09-17.73-.69-1.35.09-2.5 1.08-2.5 2.5 0 1.28 1.15 2.59 2.5 2.5z"
                ></path>
              </g>
            </svg>
          </transition>
          <transition name="fade" mode="out-in">
            <svg
              v-if="videoPlayState === true"
              class="video-block__controller--pause"
              @click="pauseVideo"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 300 300"
            >
              <path
                fill="#171435"
                d="M154.25 42.62h-.98c-.34-.01-.67.06-.96.22-.31.1-.58.27-.8.52-.24.23-.42.49-.52.8-.16.3-.23.62-.22.96l.09.66c.12.42.33.79.64 1.1l.51.39c.39.23.81.34 1.26.34h.98c.34.01.67-.06.96-.22.31-.1.58-.27.8-.52.24-.23.42-.49.52-.8.16-.3.23-.62.22-.96l-.09-.66a2.5 2.5 0 00-.64-1.1l-.51-.39c-.39-.23-.81-.34-1.26-.34z"
              ></path>
              <path
                fill="#598da7"
                d="M149.71 34.04c-62.99 0-114.04 51.06-114.04 114.05 0 62.99 51.05 114.04 114.04 114.04 62.99 0 114.05-51.05 114.05-114.04 0-62.99-51.06-114.05-114.05-114.05zm0 216.84c-56.77 0-102.8-46.03-102.8-102.8 0-56.78 46.03-102.8 102.8-102.8 56.78 0 102.8 46.02 102.8 102.8 0 56.77-46.02 102.8-102.8 102.8z"
              ></path>
              <g fill="#171435">
                <path
                  d="M252.29 155.76c1.36 20.59-6.75 40.97-20.06 56.49-13.26 15.47-31.11 26.45-50.03 33.64-10.19 3.88-20.71 6.67-31.64 7.06-10.13.35-20.24-1.08-29.92-4.05-19.25-5.9-35.98-17.86-48.51-33.54S51.48 180.7 48.2 161.07c-1.88-11.29-1.64-22.78 1.4-33.85 2.86-10.42 7.74-20.14 13.36-29.34s12-18.59 20.41-25.75c7.71-6.56 16.9-11.29 26.28-14.96 4.89-1.91 9.87-3.58 14.89-5.11 5.64-1.72 11.34-3.33 17.18-4.21 11.03-1.65 22.04.7 32.56 3.97 19.05 5.91 36.81 16.33 50.59 30.83 14.04 14.77 23.66 33.95 26.35 54.22.66 4.94.86 9.95.68 14.93-.12 3.22 4.88 3.21 5 0 .81-21.56-6.23-43.12-18.65-60.67-12.12-17.13-29.21-30.35-48.36-38.77-9.91-4.35-20.44-7.76-31.17-9.34-6.23-.92-12.34-.91-18.56.05s-11.79 2.58-17.55 4.35c-10.33 3.18-20.6 6.93-30.02 12.29-4.63 2.63-9.04 5.68-13.08 9.16-4.34 3.74-8.1 8.06-11.55 12.63-6.78 8.97-12.79 18.79-17.48 29.01s-8.08 21.74-8.47 33.38c-.4 11.74 1.77 23.58 5.27 34.75 3.06 9.75 7.28 19.17 12.61 27.89 10.8 17.67 26.25 32.55 45 41.54s41.5 12.49 62.49 7.67c10.89-2.5 21.52-6.73 31.47-11.77 9.5-4.81 18.47-10.69 26.49-17.7 16.13-14.1 28.2-33.51 31.27-54.92.74-5.17 1.01-10.37.66-15.59-.09-1.35-1.09-2.5-2.5-2.5-1.28 0-2.59 1.15-2.5 2.5z"
                ></path>
                <path
                  d="M264.53 155.75c1.58 23.58-7.44 47.02-22.47 65.01s-35.18 30.63-56.77 38.86c-12.24 4.67-25.19 8.31-38.39 8.06-12.16-.23-24.35-3.49-35.65-7.87-20.61-7.98-39.16-21.38-53-38.62-14.57-18.16-23.48-40.95-25.14-64.17-.87-12.14.28-24.24 3.32-36.02 1.66-6.45 3.79-12.77 6.14-19s4.66-11.83 8-17.25C57.14 74.1 67.68 66.3 77.86 59.34s22.03-13.73 34.01-18.56c11.49-4.64 23.65-7.83 36.06-8.37 11.24-.5 22.47 1.01 33.25 4.21 21.82 6.49 41.19 19.76 55.59 37.33s23.89 39.53 28.22 62c1.04 5.4 1.77 10.85 2.22 16.33.11 1.35 1.07 2.5 2.5 2.5 1.27 0 2.61-1.15 2.5-2.5-1.95-23.87-9.12-47.44-21.82-67.82s-30.59-36.78-52.28-46.75c-10.74-4.94-22.11-8.25-33.84-9.66-12.08-1.46-24.31-.63-36.14 2.22-12.88 3.11-25.18 8.47-36.75 14.87-11.68 6.47-23.07 14.05-33.03 22.98-4.8 4.3-9.1 9.15-12.43 14.69s-5.9 11.89-8.24 18.08c-4.72 12.52-8.38 25.44-9.47 38.82-2 24.4 4.06 49.36 16.43 70.43 11.81 20.11 29.53 36.54 50.05 47.51 10.15 5.43 21.02 9.6 32.23 12.26 6.85 1.63 13.9 2.74 20.95 2.77s13.69-.93 20.35-2.48c12.45-2.91 24.62-7.72 35.98-13.57 10.67-5.49 20.74-12.24 29.69-20.25 18.2-16.29 31.57-38.52 34.97-62.91.82-5.88 1.09-11.8.69-17.73-.09-1.35-1.08-2.5-2.5-2.5-1.28 0-2.59 1.15-2.5 2.5z"
                ></path>
              </g>
              <path
                fill="#171435"
                d="M115.31 90.92c7.87.56 15.78.32 23.6-.69 1.34-.17 2.5-1.03 2.5-2.5 0-1.22-1.15-2.67-2.5-2.5-7.83 1.01-15.73 1.24-23.6.69-1.35-.1-2.5 1.22-2.5 2.5 0 1.43 1.15 2.4 2.5 2.5z"
              ></path>
              <path
                fill="#ed9d14"
                d="M136.18 206.39L106.05 207.28 106.39 183.09 107.79 159.75 107.62 136.42 105.58 113.09 107.24 90.39 135.85 90.2 135.06 113.08 136.4 136.41 137.18 159.75 135.18 183.08 136.18 206.39z"
              ></path>
              <path
                fill="#ed9d14"
                d="M193.24 208.87L163.12 209.76 163.46 185.57 164.86 162.24 164.68 138.91 162.64 115.57 164.3 92.87 192.91 92.68 192.13 115.57 193.46 138.9 194.24 162.23 192.25 185.56 193.24 208.87z"
              ></path>
              <path
                fill="#171435"
                d="M114.68 211.05V116.2 89.74c0-3.22-5-3.22-5 0v121.31c0 3.22 5 3.22 5 0z"
              ></path>
              <path
                fill="#171435"
                d="M136.72 88c.98 32.23 1.43 64.47 1.36 96.71-.02 9.14-.09 18.28-.19 27.42l2.5-2.5c-8.87.39-17.76-.14-26.51-1.69-1.33-.23-2.69.36-3.08 1.75-.33 1.21.41 2.84 1.75 3.08 9.19 1.62 18.51 2.28 27.84 1.87 1.36-.06 2.48-1.1 2.5-2.5.37-32.24.22-64.48-.46-96.72-.19-9.14-.43-18.28-.71-27.41-.1-3.21-5.1-3.22-5 0zM160.18 89.1c-1.11 31.74-2.21 63.48-3.32 95.22l-.94 26.92c-.03.99.79 2.25 1.84 2.41 10.01 1.59 20.22 1.01 29.95-1.86 1.33-.39 2.07-1.74 1.75-3.08-3.6-14.96-1.25-30.47.12-45.57s1.76-31.56 1.61-47.36c-.08-8.9-.31-17.8-.57-26.7-.09-3.21-5.09-3.22-5 0 .47 15.98.84 31.97.43 47.96-.21 8.07-.61 16.13-1.3 24.18-.65 7.61-1.58 15.19-1.99 22.82-.46 8.71-.18 17.49 1.87 26l1.75-3.08c-8.83 2.61-18.19 3.3-27.29 1.86l1.84 2.41c1.11-31.74 2.21-63.48 3.32-95.22l.94-26.92c.11-3.22-4.89-3.21-5 0z"
              ></path>
              <path
                fill="#171435"
                d="M188.18 85.5h-26.79c-3.22 0-3.22 5 0 5h26.79c3.22 0 3.22-5 0-5z"
              ></path>
            </svg>
          </transition>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, watch } from "vue";
interface Props {
  sectionId: string;
  videoFx: string;
  hasCollage: boolean;
}

defineProps<Props>();

const videoRef = ref<HTMLVideoElement | null>(null);

const videoPlayState = ref<boolean>(false);

const playVideo = () => {
  videoPlayState.value = true;
};

const pauseVideo = () => {
  videoPlayState.value = false;
};

watch(
  () => videoPlayState.value,
  (newVal) => {
    if (videoRef.value) {
      if (newVal) {
        videoRef.value.play();
      } else {
        videoRef.value.pause();
      }
    }
  }
);
</script>

<style lang="scss">
.video-block {
  position: relative;
  z-index: 13;

  &.content-wrap {
    display: flex;
    width: 100vw;
    height: 100%;
  }

  &.--has-collage {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1;
    overflow: hidden;

    .content {
      position: relative;
      height: 100vh;
      width: 100vw;
      display: flex;
      justify-content: center;
      align-items: center;

      &__svg-wrapper {
        left: calc(50vw + 48vh * 9 / 16);
        position: absolute;
        transform: translate(-50%, -50%);
      }
    }

    &__controller {
      &--play {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }
    }
  }

  .content {
    display: flex;
    height: 100vh;
    transform: translate(-12vw, 24vh);
    width: 100%;
  }

  &.content-wrap .content:first-child {
    height: 100vh;
  }

  .content__svg-wrapper {
    position: relative;
    width: auto;
    height: 48vh;
    aspect-ratio: 16/9;

    & > svg {
      width: 100%;
      height: 100%;
      z-index: 11;

      foreignObject,
      video {
        width: 100%;
        height: 100%;
      }

      video {
        object-fit: contain;
      }
    }

    &::after {
      content: "";
      position: absolute;
      bottom: 7.2%;
      right: -7.2%;
      width: 100%;
      height: 100%;
      z-index: -1;
      display: block;
      transition: all 1.2s ease-in-out;
    }
    &::before {
      content: "";
      position: absolute;
      top: 7.2%;
      left: -7.2%;
      width: 100%;
      height: 100%;
      opacity: 0;
      z-index: -1;
      display: block;
      transition: all 1.2s ease-in-out;
    }

    &.--background {
      &::after {
        background-color: var(--background);
        opacity: 1;
      }

      &::before {
        background-color: var(--background);
        opacity: 1;
      }
    }
  }

  .content--layout {
    justify-content: flex-end;
    align-items: flex-end;
  }

  &__controller {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 12;
    display: flex;
    justify-content: center;
    align-items: center;

    &--play {
      width: 8vw;
      height: 8vw;
      cursor: pointer;
    }

    &--pause {
      width: 48px;
      height: 48px;
      cursor: pointer;
      position: absolute;
      top: 12%;
      right: 32px;
    }
  }

  @media (max-width: 768px) {
    &.--has-collage {
      .content {
        &__svg-wrapper {
          left: 46vw;
          top: 20vh;
          height: 24vh;
        }
      }
    }
    .content {
      transform: translate(4vw, 0);
      &__svg-wrapper {
        height: 28vh;
      }
    }
  }
}
</style>
